@model TheGioiLoa.Models.ViewModel.EditCategoryViewModel
@{ 
    var showParentCategoryClass = "";
    var isChecked = "checked";
    if(Model.CategoryParentId == null)
    {
        showParentCategoryClass = "d-none";
        isChecked = "";
    }
}

@using (Ajax.BeginForm("EditCategory", new AjaxOptions
{
    HttpMethod = "POST",
    UpdateTargetId = "categoryList",
    OnBegin = "loadingGift",
    OnSuccess = "loadingNoti",
    OnComplete = "extiLoadingGift"
}))
{
    <div class="overlay d-flex justify-content-center align-items-center" id="loadingModal">
        <i class="fas fa-2x fa-sync fa-spin"></i>
    </div>
    <div class="modal-header">
        <h4 class="modal-title" id="titleModal">Chỉnh sửa danh mục</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="form-group">
            <label for="editCategoryName">Tên danh mục</label>
            <input type="text" name="Name" class="form-control input-form-name" value="@Model.Name"/>
        </div>
        <div class="form-group">
            <div class="custom-control custom-checkbox">
                <input class="custom-control-input IsCategoryParentEdit" type="checkbox" id="IsCategoryParentEdit" name="IsCategoryParent" @isChecked value="@Model.IsCategoryParent">
                <label for="IsCategoryParentEdit" class="custom-control-label">Là danh mục con của?</label>
            </div>
        </div>
        <div class="form-group @showParentCategoryClass" id="categoryParentEdit">
            @Html.LabelFor(model => model.CategoryParentId, "Thuộc chuyên mục gốc?")
            @Html.DropDownList("CategoryParentId", null, htmlAttributes: new { @class = "form-control", @name = "a" })

        </div>
    </div>
    <div class="modal-footer justify-content-between">
        <button type="button" class="btn btn-default" data-dismiss="modal">Thoát</button>
        <button type="submit" class="btn btn-primary">Lưu Lại</button>
    </div>
}
